<!-- Breadcrumb -->
<!-- <app-breadcrumb [items]="breadcrumbItems"></app-breadcrumb> -->

<!-- <div class="contact-details-card">
  <h2><strong>Enter Your Contact Details</strong></h2>
  <p class="subtitle">Select a loan type below to continue.</p>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-grid">
      <div class="form-group full">
        <label>Name</label>
        <input
          type="text"
          formControlName="contactPerson"
          placeholder="Enter Full Name"
        />
        <small
          *ngIf="
            contactForm.get('contactPerson')?.touched &&
            contactForm.get('contactPerson')?.invalid
          "
        >
          Name is required (min 3 characters)
        </small>
      </div>

      <div class="form-group full">
        <label>Business Name</label>
        <input
          type="text"
          formControlName="businessName"
          placeholder="Enter Business Name"
        />
      </div>

      <div class="form-group full">
        <label>Name of the City</label>
        <input
          type="text"
          formControlName="city"
          placeholder="Enter City Name"
        />
      </div>

      <div class="form-group half">
        <label>Required Loan Amount</label>
        <input
          type="text"
          formControlName="loanRequirement"
          placeholder="Enter Amount"
        />
      </div>

      <div class="form-group half">
        <label>GST Registered</label>
        <select formControlName="gstRegistered">
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-group half">
        <label>Enter Email ID</label>
        <input
          type="email"
          formControlName="email"
          placeholder="Enter Email ID"
        />
      </div>

      <div class="form-group half">
        <label>Enter Phone Number</label>
        <input
          type="text"
          formControlName="phone"
          placeholder="+91 00000 00000"
        />
      </div>
    </div>

    <div class="actions">
      <button type="button" class="back-btn" (click)="back.emit()">Back</button>
      <button type="submit" class="submit-btn">Submit</button>
    </div>
  </form>
</div> -->

<div class="contact-details-card" *ngIf="!isSubmitted; else thankYouTemplate">
  <!-- <h2><strong>Fill Up Your Details To Get Your Loan Approved</strong></h2> -->
  <p class="fw-bold fs-6">Fill Up Your Details To Get Your Loan Approved.</p>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-grid">
      <!-- Full Name -->
      <div class="form-group full">
        <label>Name</label>
        <input
          type="text"
          formControlName="contactPerson"
          placeholder="Enter Full Name"
        />
        <small
          *ngIf="
            contactForm.get('contactPerson')?.touched &&
            contactForm.get('contactPerson')?.invalid
          "
        >
          Name is required (min 3 characters)
        </small>
      </div>

      <!-- Business Name -->
      <div class="form-group full">
        <label>Business Name</label>
        <input
          type="text"
          formControlName="businessName"
          placeholder="Enter Business Name"
        />
        <small
          *ngIf="
            contactForm.get('businessName')?.touched &&
            contactForm.get('businessName')?.invalid
          "
        >
          Business name is required
        </small>
      </div>

      <!-- City -->
      <!-- <div class="form-group full">
        <label>Name of the City</label>
        <input
          type="text"
          formControlName="city"
          placeholder="Enter City Name"
        />
      </div> -->

      <!-- Loan Amount + GST -->

      <!-- Email + Phone -->
      <div class="form-group half">
        <label>Enter Email ID</label>
        <input
          type="email"
          formControlName="emailId"
          placeholder="Enter Email ID"
        />
        <small
          *ngIf="
            contactForm.get('emailId')?.touched &&
            contactForm.get('emailId')?.invalid
          "
        >
          <span *ngIf="contactForm.get('emailId')?.errors?.['required']"
            >Email is required</span
          >
          <span
            *ngIf="contactForm.get('emailId')?.errors?.['email'] && !contactForm.get('emailId')?.errors?.['required']"
            >Please enter a valid email address</span
          >
        </small>
      </div>

      <div class="form-group half">
        <label>Enter Phone Number</label>
        <input
          type="text"
          formControlName="mobile"
          placeholder="+91 00000 00000"
        />
        <small
          *ngIf="
            contactForm.get('mobile')?.touched &&
            contactForm.get('mobile')?.invalid
          "
        >
          <span *ngIf="contactForm.get('mobile')?.errors?.['required']"
            >Phone number is required</span
          >
          <span
            *ngIf="contactForm.get('mobile')?.errors?.['pattern'] && !contactForm.get('mobile')?.errors?.['required']"
            >Please enter a valid phone number (+91 followed by 10 digits)</span
          >
        </small>
      </div>
      <div class="form-group half">
        <label>Required Loan Amount (Optional)</label>
        <input
          type="text"
          formControlName="loanRequirement"
          placeholder="Enter Amount"
        />
        <small
          *ngIf="
            contactForm.get('loanRequirement')?.touched &&
            contactForm.get('loanRequirement')?.invalid &&
            contactForm.get('loanRequirement')?.errors?.['pattern']
          "
        >
          Please enter a valid numeric amount
        </small>
      </div>

      <div class="form-group half">
        <label>Is GST Registered? <span class="optional-text">(Optional)</span></label>
        <p-dropdown 
          formControlName="isGstRegistered"
          [options]="gstOptions"
          optionLabel="label"
          optionValue="value"
          placeholder="Select"
          [style]="{'width': '100%'}"
          styleClass="custom-dropdown">
        </p-dropdown>
        <small
          *ngIf="
            contactForm.get('isGstRegistered')?.touched &&
            contactForm.get('isGstRegistered')?.invalid
          "
        >
          Please select a GST registration status
        </small>
      </div>
    </div>

    <!-- Buttons -->
    <div class="actions">
      <!-- <button type="button" class="back-btn" (click)="back.emit()">Back</button> -->
      <button type="submit" class="submit-btn">Submit</button>
    </div>
  </form>
</div>

<!-- âœ… Thank-you message + Home button -->
<ng-template #thankYouTemplate>
  <div class="">
    <div class="content">
      <h2>ğŸ‰ Thank You!</h2>

      <p>Thank you for contacting us. We will get in touch with you shortly.</p>

      <button class="contact-btn" (click)="goHome()">ğŸ  Go to Home</button>
    </div>
  </div>
</ng-template>
